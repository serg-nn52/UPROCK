(function(){"use strict";var t={3706:function(t,e,r){var o=r(9242),n=r(3396);function s(t,e,r,o,s,a){const i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(i)}var a=(0,n.aZ)({}),i=r(89);const u=(0,i.Z)(a,[["render",s]]);var d=u,c=r(2483);function l(t,e,r,o,s,a){const i=(0,n.up)("UserInfo"),u=(0,n.up)("LayoutPage");return(0,n.wg)(),(0,n.j4)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i)])),_:1})}const p=t=>((0,n.dD)("data-v-b13cfd3a"),t=t(),(0,n.Cn)(),t),f=p((()=>(0,n._)("header",{class:"header"},"Приложение",-1))),h={class:"wrapper"},m={class:"container"},v=p((()=>(0,n._)("footer",{class:"footer"},"2022",-1)));function g(t,e,r,o,s,a){return(0,n.wg)(),(0,n.iD)(n.HY,null,[f,(0,n._)("div",h,[(0,n._)("div",m,[(0,n.WI)(t.$slots,"default",{},void 0,!0)])]),v],64)}var w=(0,n.aZ)({});const _=(0,i.Z)(w,[["render",g],["__scopeId","data-v-b13cfd3a"]]);var b=_,y=r(7139),O=r.p+"img/user-photo.debef687.jpg";const k=t=>((0,n.dD)("data-v-f03c6e3e"),t=t(),(0,n.Cn)(),t),E={class:"buttons"},S=k((()=>(0,n._)("h2",null,"Добро пожаловать,",-1))),Z=k((()=>(0,n._)("img",{src:O,alt:"photo"},null,-1)));function L(t,e,r,o,s,a){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",E,[(0,n._)("button",{type:"button",onClick:e[0]||(e[0]=(...e)=>t.logOut&&t.logOut(...e))},"Выйти из "+(0,y.zw)(t.getUser.email),1)]),S,(0,n._)("h2",null,(0,y.zw)(t.getUser.name),1),Z],64)}r(7658);var I=r(65),C=(0,n.aZ)({methods:{logOut(){this.$store.commit("resetState"),this.$router.push(mt.LOGIN)}},computed:(0,I.Se)(["getToken","getUser"]),beforeMount(){!this.getToken&&this.$router.push(mt.LOGIN)}});const D=(0,i.Z)(C,[["render",L],["__scopeId","data-v-f03c6e3e"]]);var j=D,U={name:"HomeView",components:{LayoutPage:b,UserInfo:j}};const T=(0,i.Z)(U,[["render",l]]);var A=T;const M={class:"login-page"};function P(t,e,r,o,s,a){const i=(0,n.up)("LoginForm");return(0,n.wg)(),(0,n.iD)("div",M,[(0,n.Wm)(i)])}const F=t=>((0,n.dD)("data-v-8095ce8c"),t=t(),(0,n.Cn)(),t),$={class:"form"},q=F((()=>(0,n._)("h2",null,"Аутентификация",-1))),x={className:"field"},G=F((()=>(0,n._)("label",{htmlFor:"email"},"Введите email",-1))),H={className:"field"},N=F((()=>(0,n._)("label",{htmlFor:"password"},"Введите пароль",-1))),R=["disabled"],V={class:"notice"},W={key:0,class:"error"},z={key:1,class:"error"};function Y(t,e,r,s,a,i){const u=(0,n.up)("LoaderApp");return(0,n.wg)(),(0,n.iD)("div",$,["loading"===t.getStatus?((0,n.wg)(),(0,n.j4)(u,{key:0})):(0,n.kq)("",!0),q,(0,n._)("form",{action:"#",onSubmit:e[2]||(e[2]=(0,o.iM)(((...e)=>t.sendForm&&t.sendForm(...e)),["prevent"]))},[(0,n._)("div",x,[G,(0,n.wy)((0,n._)("input",{type:"text",id:"email",placeholder:"ivanov@yandex.by","onUpdate:modelValue":e[0]||(e[0]=e=>t.email=e),class:(0,y.C_)({"border-red":t.emailError})},null,2),[[o.nr,t.email]]),(0,n._)("div",{class:(0,y.C_)([{hide:!t.emailError},"error"])}," Введите корректный email! ",2)]),(0,n._)("div",H,[N,(0,n.wy)((0,n._)("input",{type:"password",id:"password",placeholder:"Введите пароль!","onUpdate:modelValue":e[1]||(e[1]=e=>t.password=e),class:(0,y.C_)({"border-red":t.passwordError})},null,2),[[o.nr,t.password]]),(0,n._)("div",{class:(0,y.C_)([{hide:!t.passwordError},"error"])}," Пароль от 6 до 10 символов ",2)]),(0,n._)("button",{disabled:"loading"===t.getStatus,type:"submit"},"Sign in",8,R)],32),(0,n._)("div",V,["401"===t.getStatus?((0,n.wg)(),(0,n.iD)("div",W," The email address or password is incorrect. ")):"400"===t.getStatus?((0,n.wg)(),(0,n.iD)("div",z,"Server error!")):(0,n.kq)("",!0)])])}var B=r.p+"img/loader.1995be86.gif";const J=t=>((0,n.dD)("data-v-ee5b8092"),t=t(),(0,n.Cn)(),t),K={class:"wrapper"},Q=J((()=>(0,n._)("img",{src:B,alt:"loader"},null,-1))),X=[Q];function tt(t,e){return(0,n.wg)(),(0,n.iD)("div",K,X)}const et={},rt=(0,i.Z)(et,[["render",tt],["__scopeId","data-v-ee5b8092"]]);var ot=rt,nt=(0,n.aZ)({components:{LoaderApp:ot},computed:(0,I.Se)(["getStatus","getToken"]),data(){return{email:"",password:"",emailError:!1,passwordError:!1}},beforeMount(){this.getToken&&this.$router.push(mt.HOME)},methods:{validate(){/^[A-Z0-9._%+-]+@[A-Z0-9-]+\.[A-Z]{2,4}$/i.test(this.email.trim())?this.emailError=!1:this.emailError=!0,this.password.length<6||this.password.length>10?this.passwordError=!0:this.passwordError=!1},sendForm(){this.validate(),this.passwordError||this.emailError||(this.$store.commit("addLoading"),this.$store.dispatch("userAuth",{email:this.email,password:this.password}),this.email="",this.password="")}}});const st=(0,i.Z)(nt,[["render",Y],["__scopeId","data-v-8095ce8c"]]);var at=st,it=(0,n.aZ)({components:{LoginForm:at}});const ut=(0,i.Z)(it,[["render",P],["__scopeId","data-v-2f33f7a8"]]);var dt=ut;const ct=t=>((0,n.dD)("data-v-11f00240"),t=t(),(0,n.Cn)(),t),lt=ct((()=>(0,n._)("h2",null,"Страница не найдена!",-1)));function pt(t,e,r,o,s,a){const i=(0,n.up)("layout-page");return(0,n.wg)(),(0,n.j4)(i,null,{default:(0,n.w5)((()=>[lt])),_:1})}var ft=(0,n.aZ)({components:{LayoutPage:b}});const ht=(0,i.Z)(ft,[["render",pt],["__scopeId","data-v-11f00240"]]);var mt,vt=ht;(function(t){t["HOME"]="/",t["LOGIN"]="/login",t["PAGE404"]="/:pathMatch(.*)*"})(mt||(mt={}));const gt=[{path:mt.HOME,name:"home",component:A},{path:mt.LOGIN,name:"login",component:dt},{path:mt.PAGE404,name:"not-found",component:vt}],wt=(0,c.p7)({history:(0,c.PO)("/"),routes:gt});var _t=wt,bt=r(70);const yt=bt.ZP.create({baseURL:"http://localhost:5000/"}),Ot={};var kt={actions:{async userAuth({commit:t,getters:e},r){try{const o=await yt.post("/api/users",r);200===o.status&&(t("addUser",o.data),e.getToken&&_t.push("/")),t("addStatus",o.status)}catch(o){t("addStatus",o.response.status),console.log(o)}}},mutations:{addUser(t,e){t.user=e},addStatus(t,e){t.statusRequest=""+e},addLoading(t){t.statusRequest="loading"},resetState(t){t.statusRequest="notSend",t.user=Ot}},getters:{getStatus(t){return t.statusRequest},getUser(t){return t.user},getToken(t){return t.user.token}},state:()=>({user:Ot,statusRequest:"notSend"})};const Et=(0,I.MT)({modules:{user:kt}});var St=Et;const Zt=(0,o.ri)(d);Zt.use(St).use(_t).mount("#app")}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,o,n,s){if(!o){var a=1/0;for(c=0;c<t.length;c++){o=t[c][0],n=t[c][1],s=t[c][2];for(var i=!0,u=0;u<o.length;u++)(!1&s||a>=s)&&Object.keys(r.O).every((function(t){return r.O[t](o[u])}))?o.splice(u--,1):(i=!1,s<a&&(a=s));if(i){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[o,n,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p="/"}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,s,a=o[0],i=o[1],u=o[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(u)var c=u(r)}for(e&&e(o);d<a.length;d++)s=a[d],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(c)},o=self["webpackChunkuprock"]=self["webpackChunkuprock"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(3706)}));o=r.O(o)})();
//# sourceMappingURL=app.c628773a.js.map